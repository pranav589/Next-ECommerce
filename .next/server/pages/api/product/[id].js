"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/product/[id]";
exports.ids = ["pages/api/product/[id]"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./middleware/auth.js":
/*!****************************!*\
  !*** ./middleware/auth.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_models_userModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/models/userModel */ \"(api)/./src/models/userModel.js\");\n\n\nconst auth = async (req, res)=>{\n    try {\n        const token = req.headers[\"authorization\"];\n        if (!token) {\n            return res.status(400).json({\n                err: \"Invalid Authentication\"\n            });\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, \"tokenSecret123\");\n        if (!decoded) return res.status(400).json({\n            err: \"Invalid Authorization\"\n        });\n        const user = await _src_models_userModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            _id: decoded.id\n        });\n        return {\n            id: user._id,\n            role: user.role,\n            root: user.root\n        };\n    } catch (error) {\n        return res.status(500).json({\n            err: error.message\n        });\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (auth);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2F1dGguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUNZO0FBRTNDLE1BQU1FLE9BQU8sT0FBT0MsS0FBS0MsTUFBUTtJQUMvQixJQUFJO1FBQ0YsTUFBTUMsUUFBUUYsSUFBSUcsT0FBTyxDQUFDLGdCQUFnQjtRQUMxQyxJQUFJLENBQUNELE9BQU87WUFDVixPQUFPRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxLQUFLO1lBQXlCO1FBQzlELENBQUM7UUFDRCxNQUFNQyxVQUFVViwwREFBVSxDQUFDSyxPQUFPTyxnQkFBd0I7UUFDMUQsSUFBSSxDQUFDRixTQUFTLE9BQU9OLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsS0FBSztRQUF3QjtRQUN6RSxNQUFNTSxPQUFPLE1BQU1kLHFFQUFZLENBQUM7WUFBRWdCLEtBQUtQLFFBQVFRLEVBQUU7UUFBQztRQUNsRCxPQUFPO1lBQ0xBLElBQUlILEtBQUtFLEdBQUc7WUFDWkUsTUFBTUosS0FBS0ksSUFBSTtZQUNmQyxNQUFNTCxLQUFLSyxJQUFJO1FBQ2pCO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2QsT0FBT2pCLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsS0FBS1ksTUFBTUMsT0FBTztRQUFDO0lBQ25EO0FBQ0Y7QUFFQSxpRUFBZXBCLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbWVyY2UvLi9taWRkbGV3YXJlL2F1dGguanM/MWM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL3NyYy9tb2RlbHMvdXNlck1vZGVsXCI7XHJcblxyXG5jb25zdCBhdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnNbXCJhdXRob3JpemF0aW9uXCJdO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnI6IFwiSW52YWxpZCBBdXRoZW50aWNhdGlvblwiIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCk7XHJcbiAgICBpZiAoIWRlY29kZWQpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycjogXCJJbnZhbGlkIEF1dGhvcml6YXRpb25cIiB9KTtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IGRlY29kZWQuaWQgfSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdXNlci5faWQsXHJcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcclxuICAgICAgcm9vdDogdXNlci5yb290LFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGg7XHJcbiJdLCJuYW1lcyI6WyJqd3QiLCJVc2VyIiwiYXV0aCIsInJlcSIsInJlcyIsInRva2VuIiwiaGVhZGVycyIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJkZWNvZGVkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVCIsInVzZXIiLCJmaW5kT25lIiwiX2lkIiwiaWQiLCJyb2xlIiwicm9vdCIsImVycm9yIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./middleware/auth.js\n");

/***/ }),

/***/ "(api)/./src/models/categoryModel.js":
/*!*************************************!*\
  !*** ./src/models/categoryModel.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst categorySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    image: {\n        type: Object,\n        required: true\n    }\n}, {\n    timestamps: true\n});\nlet Dataset = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.category) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"category\", categorySchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dataset);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL2NhdGVnb3J5TW9kZWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGlCQUFpQixJQUFJRCx3REFBZSxDQUN4QztJQUNFRyxNQUFNO1FBQ0pDLE1BQU1DO1FBQ05DLFVBQVUsSUFBSTtRQUNkQyxNQUFNLElBQUk7SUFDWjtJQUNBQyxPQUFPO1FBQ0xKLE1BQU1LO1FBQ05ILFVBQVUsSUFBSTtJQUNoQjtBQUNGLEdBQ0E7SUFDRUksWUFBWSxJQUFJO0FBQ2xCO0FBR0YsSUFBSUMsVUFDRlgsaUVBQXdCLElBQUlBLHFEQUFjLENBQUMsWUFBWUM7QUFFekQsaUVBQWVVLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbWVyY2UvLi9zcmMvbW9kZWxzL2NhdGVnb3J5TW9kZWwuanM/YzQ4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBjYXRlZ29yeVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB0cmltOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGltYWdlOiB7XHJcbiAgICAgIHR5cGU6IE9iamVjdCxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcblxyXG5sZXQgRGF0YXNldCA9XHJcbiAgbW9uZ29vc2UubW9kZWxzLmNhdGVnb3J5IHx8IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcnlcIiwgY2F0ZWdvcnlTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YXNldDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY2F0ZWdvcnlTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsImltYWdlIiwiT2JqZWN0IiwidGltZXN0YW1wcyIsIkRhdGFzZXQiLCJtb2RlbHMiLCJjYXRlZ29yeSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/models/categoryModel.js\n");

/***/ }),

/***/ "(api)/./src/models/productModel.js":
/*!************************************!*\
  !*** ./src/models/productModel.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst productSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    price: {\n        type: Number,\n        required: true,\n        trim: true\n    },\n    description: {\n        type: String,\n        required: true\n    },\n    content: {\n        type: String\n    },\n    images: {\n        type: Array,\n        required: true\n    },\n    category: {\n        type: String,\n        required: true\n    },\n    checked: {\n        type: Boolean,\n        default: false\n    },\n    inStock: {\n        type: Number,\n        default: 0\n    },\n    tags: {\n        type: Array\n    },\n    sold: {\n        type: Number,\n        default: 0\n    },\n    discount: {\n        type: Number,\n        default: 0\n    },\n    discountPrice: {\n        type: Number,\n        trim: true\n    },\n    type: {\n        type: String,\n        default: \"regular\"\n    }\n}, {\n    timestamps: true\n});\nlet Dataset = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.product) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"product\", productSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dataset);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL3Byb2R1Y3RNb2RlbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsZ0JBQWdCLElBQUlELHdEQUFlLENBQ3ZDO0lBQ0VHLE9BQU87UUFDTEMsTUFBTUM7UUFDTkMsVUFBVSxJQUFJO1FBQ2RDLE1BQU0sSUFBSTtJQUNaO0lBQ0FDLE9BQU87UUFDTEosTUFBTUs7UUFDTkgsVUFBVSxJQUFJO1FBQ2RDLE1BQU0sSUFBSTtJQUNaO0lBQ0FHLGFBQWE7UUFDWE4sTUFBTUM7UUFDTkMsVUFBVSxJQUFJO0lBQ2hCO0lBQ0FLLFNBQVM7UUFDUFAsTUFBTUM7SUFDUjtJQUNBTyxRQUFRO1FBQ05SLE1BQU1TO1FBQ05QLFVBQVUsSUFBSTtJQUNoQjtJQUNBUSxVQUFVO1FBQ1JWLE1BQU1DO1FBQ05DLFVBQVUsSUFBSTtJQUNoQjtJQUNBUyxTQUFTO1FBQ1BYLE1BQU1ZO1FBQ05DLFNBQVMsS0FBSztJQUNoQjtJQUNBQyxTQUFTO1FBQ1BkLE1BQU1LO1FBQ05RLFNBQVM7SUFDWDtJQUNBRSxNQUFNO1FBQ0pmLE1BQU1TO0lBQ1I7SUFDQU8sTUFBTTtRQUNKaEIsTUFBTUs7UUFDTlEsU0FBUztJQUNYO0lBQ0FJLFVBQVU7UUFDUmpCLE1BQU1LO1FBQ05RLFNBQVM7SUFDWDtJQUNBSyxlQUFlO1FBQ2JsQixNQUFNSztRQUNORixNQUFNLElBQUk7SUFDWjtJQUNBSCxNQUFNO1FBQ0pBLE1BQU1DO1FBQ05ZLFNBQVM7SUFDWDtBQUNGLEdBQ0E7SUFDRU0sWUFBWSxJQUFJO0FBQ2xCO0FBR0YsSUFBSUMsVUFDRnhCLGdFQUF1QixJQUFJQSxxREFBYyxDQUFDLFdBQVdDO0FBQ3ZELGlFQUFldUIsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21tZXJjZS8uL3NyYy9tb2RlbHMvcHJvZHVjdE1vZGVsLmpzPzQwYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdGl0bGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgdHJpbTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwcmljZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB0cmltOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgY29udGVudDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgaW1hZ2VzOiB7XHJcbiAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBjYXRlZ29yeToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGNoZWNrZWQ6IHtcclxuICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgaW5TdG9jazoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICB9LFxyXG4gICAgdGFnczoge1xyXG4gICAgICB0eXBlOiBBcnJheSxcclxuICAgIH0sXHJcbiAgICBzb2xkOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgIH0sXHJcbiAgICBkaXNjb3VudDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICB9LFxyXG4gICAgZGlzY291bnRQcmljZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHRyaW06IHRydWUsXHJcbiAgICB9LFxyXG4gICAgdHlwZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGRlZmF1bHQ6IFwicmVndWxhclwiLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxubGV0IERhdGFzZXQgPVxyXG4gIG1vbmdvb3NlLm1vZGVscy5wcm9kdWN0IHx8IG1vbmdvb3NlLm1vZGVsKFwicHJvZHVjdFwiLCBwcm9kdWN0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgRGF0YXNldDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsInRpdGxlIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsInByaWNlIiwiTnVtYmVyIiwiZGVzY3JpcHRpb24iLCJjb250ZW50IiwiaW1hZ2VzIiwiQXJyYXkiLCJjYXRlZ29yeSIsImNoZWNrZWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsImluU3RvY2siLCJ0YWdzIiwic29sZCIsImRpc2NvdW50IiwiZGlzY291bnRQcmljZSIsInRpbWVzdGFtcHMiLCJEYXRhc2V0IiwibW9kZWxzIiwicHJvZHVjdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/models/productModel.js\n");

/***/ }),

/***/ "(api)/./src/models/userModel.js":
/*!*********************************!*\
  !*** ./src/models/userModel.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        requried: true\n    },\n    email: {\n        type: String,\n        requried: true,\n        trim: true\n    },\n    password: {\n        type: String,\n        requried: true\n    },\n    role: {\n        type: String,\n        default: \"user\"\n    },\n    root: {\n        type: Boolean,\n        default: false\n    },\n    avatar: {\n        type: String,\n        default: \"https://res.cloudinary.com/devatchannel/image/upload/v1602752402/avatar/avatar_cugq40.png\"\n    }\n}, {\n    timestamps: true\n});\nlet Dataset = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.user) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"user\", userSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dataset);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL3VzZXJNb2RlbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsYUFBYSxJQUFJRCx3REFBZSxDQUNwQztJQUNFRyxNQUFNO1FBQ0pDLE1BQU1DO1FBQ05DLFVBQVUsSUFBSTtJQUNoQjtJQUNBQyxPQUFPO1FBQ0xILE1BQU1DO1FBQ05DLFVBQVUsSUFBSTtRQUNkRSxNQUFNLElBQUk7SUFDWjtJQUNBQyxVQUFVO1FBQ1JMLE1BQU1DO1FBQ05DLFVBQVUsSUFBSTtJQUNoQjtJQUNBSSxNQUFNO1FBQ0pOLE1BQU1DO1FBQ05NLFNBQVM7SUFDWDtJQUNBQyxNQUFNO1FBQ0pSLE1BQU1TO1FBQ05GLFNBQVMsS0FBSztJQUNoQjtJQUNBRyxRQUFRO1FBQ05WLE1BQU1DO1FBQ05NLFNBQ0U7SUFDSjtBQUNGLEdBQ0E7SUFDRUksWUFBWSxJQUFJO0FBQ2xCO0FBR0YsSUFBSUMsVUFBVWhCLDZEQUFvQixJQUFJQSxxREFBYyxDQUFDLFFBQVFDO0FBRTdELGlFQUFlZSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW1lcmNlLy4vc3JjL21vZGVscy91c2VyTW9kZWwuanM/YzRkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICBuYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdXJpZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1cmllZDogdHJ1ZSxcclxuICAgICAgdHJpbTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVyaWVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHJvbGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBkZWZhdWx0OiBcInVzZXJcIixcclxuICAgIH0sXHJcbiAgICByb290OiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIGF2YXRhcjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgXCJodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS9kZXZhdGNoYW5uZWwvaW1hZ2UvdXBsb2FkL3YxNjAyNzUyNDAyL2F2YXRhci9hdmF0YXJfY3VncTQwLnBuZ1wiLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxubGV0IERhdGFzZXQgPSBtb25nb29zZS5tb2RlbHMudXNlciB8fCBtb25nb29zZS5tb2RlbChcInVzZXJcIiwgdXNlclNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhc2V0O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1cmllZCIsImVtYWlsIiwidHJpbSIsInBhc3N3b3JkIiwicm9sZSIsImRlZmF1bHQiLCJyb290IiwiQm9vbGVhbiIsImF2YXRhciIsInRpbWVzdGFtcHMiLCJEYXRhc2V0IiwibW9kZWxzIiwidXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/models/userModel.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/product/[id].js":
/*!***************************************!*\
  !*** ./src/pages/api/product/[id].js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_connectDB__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/connectDB */ \"(api)/./src/utils/connectDB.js\");\n/* harmony import */ var _models_productModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/productModel */ \"(api)/./src/models/productModel.js\");\n/* harmony import */ var _models_categoryModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/categoryModel */ \"(api)/./src/models/categoryModel.js\");\n/* harmony import */ var _middleware_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../middleware/auth */ \"(api)/./middleware/auth.js\");\n\n\n\n\n(0,_utils_connectDB__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n// eslint-disable-next-line import/no-anonymous-default-export\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    switch(req.method){\n        case \"GET\":\n            await getProduct(req, res);\n            break;\n        case \"PATCH\":\n            await updateProduct(req, res);\n            break;\n        case \"DELETE\":\n            await deleteProduct(req, res);\n            break;\n    }\n});\nconst getProduct = async (req, res)=>{\n    try {\n        const { id  } = req.query;\n        const product = await _models_productModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n        if (!product) return res.status(400).json({\n            err: \"This Product does not exist.\"\n        });\n        const category = await _models_categoryModel__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(product.category);\n        return res.json({\n            status: \"success\",\n            Data: product,\n            category: category\n        });\n    } catch (error) {\n        return res.status(500).json({\n            err: error.message\n        });\n    }\n};\nconst updateProduct = async (req, res)=>{\n    try {\n        const result = await (0,_middleware_auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(req, res);\n        const { title , price , inStock , description , category , images , discount , type  } = req.body;\n        const { id  } = req.query;\n        if (result.role !== \"admin\" || result.root === false) {\n            return res.status(400).json({\n                err: \"Unauthorized access\"\n            });\n        }\n        if (!title || !price || !inStock || !description || !category || images?.length === 0) {\n            return res.status(400).json({\n                err: \"Please provide all the required fields\"\n            });\n        }\n        const discountPrice = discount ? Math.floor(price - price * discount / 100) : null;\n        const updateProduct = await _models_productModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n            _id: id\n        }, {\n            title: title.toLowerCase(),\n            price,\n            inStock,\n            description,\n            category,\n            images,\n            discount,\n            discountPrice,\n            type\n        });\n        return res.json({\n            status: \"success\",\n            msg: \"Product updated successfully.\",\n            Data: updateProduct\n        });\n    } catch (error) {\n        return res.status(500).json({\n            err: error.message\n        });\n    }\n};\nconst deleteProduct = async (req, res)=>{\n    try {\n        const result = await (0,_middleware_auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(req, res);\n        const { id  } = req.query;\n        if (result.role !== \"admin\" || result.root === false) {\n            return res.status(400).json({\n                err: \"Unauthorized access\"\n            });\n        }\n        const deleteProduct = await _models_productModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndDelete({\n            _id: id\n        });\n        return res.json({\n            status: \"success\",\n            msg: \"Product Deleted.\",\n            Data: deleteProduct\n        });\n    } catch (error) {\n        return res.status(500).json({\n            err: error.message\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSU8sS0FBSztRQUN4QixJQUFJVSxPQUFPUyxJQUFJLEtBQUssV0FBV1QsT0FBT1UsSUFBSSxLQUFLLEtBQUssRUFBRTtZQUNwRCxPQUFPMUIsSUFBSVMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsS0FBSztZQUFzQjtRQUMzRCxDQUFDO1FBRUQsTUFBTVAsZ0JBQWdCLE1BQU1SLDZFQUF5QixDQUFDO1lBQUVvQyxLQUFLM0I7UUFBRztRQUNoRSxPQUFPTCxJQUFJVSxJQUFJLENBQUM7WUFDZEQsUUFBUTtZQUNSeUIsS0FBSztZQUNMckIsTUFBTVQ7UUFDUjtJQUNGLEVBQUUsT0FBT1UsT0FBTztRQUNkLE9BQU9kLElBQUlTLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsS0FBS0csTUFBTUMsT0FBTztRQUFDO0lBQ25EO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbWVyY2UvLi9zcmMvcGFnZXMvYXBpL3Byb2R1Y3QvW2lkXS5qcz82NzNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb25uZWN0REIgZnJvbSBcIkAvdXRpbHMvY29ubmVjdERCXCI7XHJcbmltcG9ydCBQcm9kdWN0cyBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbFwiO1xyXG5pbXBvcnQgQ2F0ZWdvcmllcyBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL2NhdGVnb3J5TW9kZWxcIjtcclxuaW1wb3J0IGF1dGggZnJvbSBcIi4uLy4uLy4uLy4uL21pZGRsZXdhcmUvYXV0aFwiO1xyXG5cclxuY29ubmVjdERCKCk7XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWFub255bW91cy1kZWZhdWx0LWV4cG9ydFxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcclxuICAgIGNhc2UgXCJHRVRcIjpcclxuICAgICAgYXdhaXQgZ2V0UHJvZHVjdChyZXEsIHJlcyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIlBBVENIXCI6XHJcbiAgICAgIGF3YWl0IHVwZGF0ZVByb2R1Y3QocmVxLCByZXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJERUxFVEVcIjpcclxuICAgICAgYXdhaXQgZGVsZXRlUHJvZHVjdChyZXEsIHJlcyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3RzLmZpbmRCeUlkKGlkKTtcclxuXHJcbiAgICBpZiAoIXByb2R1Y3QpXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycjogXCJUaGlzIFByb2R1Y3QgZG9lcyBub3QgZXhpc3QuXCIgfSk7XHJcblxyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yaWVzLmZpbmRCeUlkKHByb2R1Y3QuY2F0ZWdvcnkpO1xyXG5cclxuICAgIHJldHVybiByZXMuanNvbih7XHJcbiAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXHJcbiAgICAgIERhdGE6IHByb2R1Y3QsXHJcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnI6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlUHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhdXRoKHJlcSwgcmVzKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIHByaWNlLFxyXG4gICAgICBpblN0b2NrLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgY2F0ZWdvcnksXHJcbiAgICAgIGltYWdlcyxcclxuICAgICAgZGlzY291bnQsXHJcbiAgICAgIHR5cGUsXHJcbiAgICB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XHJcbiAgICBpZiAocmVzdWx0LnJvbGUgIT09IFwiYWRtaW5cIiB8fCByZXN1bHQucm9vdCA9PT0gZmFsc2UpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyOiBcIlVuYXV0aG9yaXplZCBhY2Nlc3NcIiB9KTtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgIXRpdGxlIHx8XHJcbiAgICAgICFwcmljZSB8fFxyXG4gICAgICAhaW5TdG9jayB8fFxyXG4gICAgICAhZGVzY3JpcHRpb24gfHxcclxuICAgICAgIWNhdGVnb3J5IHx8XHJcbiAgICAgIGltYWdlcz8ubGVuZ3RoID09PSAwXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgIC5qc29uKHsgZXJyOiBcIlBsZWFzZSBwcm92aWRlIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGlzY291bnRQcmljZSA9IGRpc2NvdW50XHJcbiAgICAgID8gTWF0aC5mbG9vcihwcmljZSAtIChwcmljZSAqIGRpc2NvdW50KSAvIDEwMClcclxuICAgICAgOiBudWxsO1xyXG4gICAgY29uc3QgdXBkYXRlUHJvZHVjdCA9IGF3YWl0IFByb2R1Y3RzLmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICAgIHsgX2lkOiBpZCB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgaW5TdG9jayxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBjYXRlZ29yeSxcclxuICAgICAgICBpbWFnZXMsXHJcbiAgICAgICAgZGlzY291bnQsXHJcbiAgICAgICAgZGlzY291bnRQcmljZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcclxuICAgICAgbXNnOiBcIlByb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHkuXCIsXHJcbiAgICAgIERhdGE6IHVwZGF0ZVByb2R1Y3QsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aChyZXEsIHJlcyk7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XHJcbiAgICBpZiAocmVzdWx0LnJvbGUgIT09IFwiYWRtaW5cIiB8fCByZXN1bHQucm9vdCA9PT0gZmFsc2UpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyOiBcIlVuYXV0aG9yaXplZCBhY2Nlc3NcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdHMuZmluZE9uZUFuZERlbGV0ZSh7IF9pZDogaWQgfSk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oe1xyXG4gICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxyXG4gICAgICBtc2c6IFwiUHJvZHVjdCBEZWxldGVkLlwiLFxyXG4gICAgICBEYXRhOiBkZWxldGVQcm9kdWN0LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJjb25uZWN0REIiLCJQcm9kdWN0cyIsIkNhdGVnb3JpZXMiLCJhdXRoIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZ2V0UHJvZHVjdCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGVQcm9kdWN0IiwiaWQiLCJxdWVyeSIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJjYXRlZ29yeSIsIkRhdGEiLCJlcnJvciIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJ0aXRsZSIsInByaWNlIiwiaW5TdG9jayIsImRlc2NyaXB0aW9uIiwiaW1hZ2VzIiwiZGlzY291bnQiLCJ0eXBlIiwiYm9keSIsInJvbGUiLCJyb290IiwibGVuZ3RoIiwiZGlzY291bnRQcmljZSIsIk1hdGgiLCJmbG9vciIsImZpbmRPbmVBbmRVcGRhdGUiLCJfaWQiLCJ0b0xvd2VyQ2FzZSIsIm1zZyIsImZpbmRPbmVBbmREZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/product/[id].js\n");

/***/ }),

/***/ "(api)/./src/utils/connectDB.js":
/*!********************************!*\
  !*** ./src/utils/connectDB.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectDB = ()=>{\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState)) {\n        console.log(\"Already connected.\");\n        return;\n    }\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(\"mongodb+srv://pranav123:pranav123@ecommerce.inmos.mongodb.net/?retryWrites=true&w=majority\", {\n        useNewUrlParser: true\n    }).then((result)=>{\n        console.log(result);\n    }).catch((err)=>{\n        if (err) throw err;\n        console.log(\"Connected to mongoDB\");\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvY29ubmVjdERCLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxZQUFZLElBQU07SUFDdEIsSUFBSUQsMkVBQWtDLEVBQUU7UUFDdENJLFFBQVFDLEdBQUcsQ0FBQztRQUNaO0lBQ0YsQ0FBQztJQUNETCx1REFDVSxDQUFDTyw0RkFBdUIsRUFBRTtRQUNoQ0csaUJBQWlCLElBQUk7SUFDdkIsR0FDQ0MsSUFBSSxDQUFDLENBQUNDLFNBQVc7UUFDaEJSLFFBQVFDLEdBQUcsQ0FBQ087SUFDZCxHQUNDQyxLQUFLLENBQUMsQ0FBQ0MsTUFBUTtRQUNkLElBQUlBLEtBQUssTUFBTUEsSUFBSTtRQUNuQlYsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7QUFDSjtBQUVBLGlFQUFlSixTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW1lcmNlLy4vc3JjL3V0aWxzL2Nvbm5lY3REQi5qcz9lYThkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IGNvbm5lY3REQiA9ICgpID0+IHtcclxuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJBbHJlYWR5IGNvbm5lY3RlZC5cIik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIG1vbmdvb3NlXHJcbiAgICAuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSTCwge1xyXG4gICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gbW9uZ29EQlwiKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0REIiLCJjb25uZWN0aW9ucyIsInJlYWR5U3RhdGUiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInRoZW4iLCJyZXN1bHQiLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/connectDB.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/product/[id].js"));
module.exports = __webpack_exports__;

})();